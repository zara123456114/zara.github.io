<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Âõ¢ÈòüÂª∫ËÆæRPG</title>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2ecc71;
            --danger: #e74c3c;
            --warning: #f39c12;
            --dark: #2c3e50;
            --light: #ecf0f1;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            background-color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
        }
        h1 {
            color: var(--dark);
            text-align: center;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
        }
        .game-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .panel {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 0 8px rgba(0,0,0,0.05);
            border: 1px solid #eee;
        }
        .panel-header {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--light);
            color: var(--dark);
        }
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        .stat-item {
            background-color: var(--light);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }
        .stat-label {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 5px;
        }
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--dark);
        }
        .currency {
            color: var(--warning);
        }
        .level {
            color: var(--secondary);
        }
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            flex-grow: 1;
            min-width: 120px;
        }
        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }
        button.danger {
            background-color: var(--danger);
        }
        button.success {
            background-color: var(--secondary);
        }
        button.warning {
            background-color: var(--warning);
        }
        .invite-link {
            margin: 15px 0;
            padding: 15px;
            background-color: rgba(46, 204, 113, 0.1);
            border: 1px dashed var(--secondary);
            border-radius: 8px;
            word-break: break-all;
            font-family: monospace;
        }
        .log {
            height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            margin-top: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
        }
        .log-entry {
            margin-bottom: 8px;
            padding: 8px;
            border-bottom: 1px solid #eee;
            font-size: 14px;
            line-height: 1.4;
        }
        .bonus {
            color: var(--warning);
            font-weight: bold;
        }
        .success-text {
            color: var(--secondary);
        }
        .danger-text {
            color: var(--danger);
        }
        .character {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        .character-avatar {
            width: 80px;
            height: 80px;
            background-color: #ddd;
            border-radius: 50%;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            color: #7f8c8d;
        }
        .character-info {
            flex-grow: 1;
        }
        .character-name {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 5px;
        }
        .character-class {
            display: inline-block;
            padding: 3px 8px;
            background-color: var(--primary);
            color: white;
            border-radius: 12px;
            font-size: 12px;
            margin-bottom: 8px;
        }
        .progress-bar {
            height: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
            margin-top: 5px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background-color: var(--secondary);
            width: 0%;
            transition: width 0.5s;
        }
        .skills {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .skill {
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .skill:hover {
            background-color: #e9ecef;
        }
        .skill-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .skill-desc {
            font-size: 12px;
            color: #7f8c8d;
        }
        .skill-cost {
            font-size: 12px;
            color: var(--warning);
            margin-top: 5px;
        }
        .skill.unlocked {
            background-color: rgba(46, 204, 113, 0.1);
            border-left: 3px solid var(--secondary);
        }
        .skill.locked {
            opacity: 0.6;
        }
        .equipment {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .equip-item {
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .equip-item:hover {
            background-color: #e9ecef;
        }
        .equip-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .equip-desc {
            font-size: 12px;
            color: #7f8c8d;
        }
        .equip-cost {
            font-size: 12px;
            color: var(--warning);
            margin-top: 5px;
        }
        .equip-owned {
            font-size: 12px;
            color: var(--secondary);
            margin-top: 5px;
        }
        .tab-container {
            margin-top: 20px;
        }
        .tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 15px;
        }
        .tab {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        .tab.active {
            border-bottom: 3px solid var(--primary);
            font-weight: bold;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .team-member {
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 6px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .member-avatar {
            width: 40px;
            height: 40px;
            background-color: #ddd;
            border-radius: 50%;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: #7f8c8d;
        }
        .member-info {
            flex-grow: 1;
        }
        .member-name {
            font-weight: bold;
        }
        .member-level {
            font-size: 12px;
            color: #7f8c8d;
        }
        .member-contribution {
            font-size: 12px;
            color: var(--warning);
        }
        @media (max-width: 768px) {
            .game-area {
                grid-template-columns: 1fr;
            }
            .stats {
                grid-template-columns: 1fr;
            }
            .skills, .equipment {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Âõ¢ÈòüÂª∫ËÆæRPG</h1>
        <div class="subtitle">ÈÄöËøáËßíËâ≤ÊâÆÊºîÊ∏∏ÊàèÁöÑÊñπÂºèÂèëÂ±ï‰Ω†ÁöÑÂõ¢ÈòüÔºåÊØèÊàêÂäüÈÇÄËØ∑‰∏Ä‰∫∫ÂèØËé∑Âæó2 EURÂ•ñÈáë</div>
        
        <div class="character">
            <div class="character-avatar">üë§</div>
            <div class="character-info">
                <div class="character-name" id="player-name">È¢ÜÂØºËÄÖ</div>
                <span class="character-class" id="player-class">Âõ¢ÈòüÈ¢ÜË¢ñ</span>
                <div>Á≠âÁ∫ß <span class="level" id="player-level">1</span></div>
                <div class="progress-bar">
                    <div class="progress-fill" id="player-exp-bar" style="width: 0%"></div>
                </div>
                <div>ÁªèÈ™åÂÄº: <span id="player-exp">0</span>/<span id="player-next-level">100</span></div>
            </div>
        </div>
        
        <div class="game-area">
            <div class="panel">
                <div class="panel-header">Âõ¢ÈòüÁä∂ÊÄÅ</div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-label">Âõ¢ÈòüÊàêÂëò</div>
                        <div class="stat-value" id="team-count">1</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">ÈÇÄËØ∑Â•ñÈáë</div>
                        <div class="stat-value"><span class="currency" id="bonus-earned">0</span> EUR</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">ÈÇÄËØ∑ÈìæÊé•</div>
                        <div class="stat-value" id="invites-sent">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">ËΩ¨ÂåñÁéá</div>
                        <div class="stat-value" id="conversion-rate">20%</div>
                    </div>
                </div>
                
                <div class="invite-link">
                    <p>‰Ω†ÁöÑÈÇÄËØ∑ÈìæÊé•Ôºö</p>
                    <p id="invite-link">https://imgp4o.com/invite/user123</p>
                    <button onclick="copyInviteLink()">Â§çÂà∂ÈìæÊé•</button>
                </div>
                
                <div class="button-group">
                    <button onclick="sendInvite()">ÂèëÈÄÅÈÇÄËØ∑</button>
                    <button class="success" onclick="trainMember()">ÂüπËÆ≠ÊàêÂëò</button>
                    <button class="warning" onclick="motivateTeam()">ÊøÄÂä±Âõ¢Èòü</button>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-header">Ê∏∏ÊàèÊó•Âøó</div>
                <div class="log" id="game-log">
                    <div class="log-entry">Ê¨¢ËøéÊù•Âà∞Âõ¢ÈòüÂª∫ËÆæRPGÔºÅÂºÄÂßãÈÇÄËØ∑Êñ∞ÊàêÂëòÂèëÂ±ï‰Ω†ÁöÑÂõ¢ÈòüÂêß„ÄÇ</div>
                </div>
            </div>
        </div>
        
        <div class="tab-container">
            <div class="tabs">
                <div class="tab active" onclick="openTab('skills')">ÊäÄËÉΩÊ†ë</div>
                <div class="tab" onclick="openTab('equipment')">Ë£ÖÂ§á</div>
                <div class="tab" onclick="openTab('team')">Âõ¢ÈòüÊàêÂëò</div>
                <div class="tab" onclick="openTab('achievements')">ÊàêÂ∞±</div>
            </div>
            
            <div id="skills" class="tab-content active">
                <div class="skills">
                    <div class="skill locked" onclick="unlockSkill('recruiting')">
                        <div class="skill-name">È´òÊïàÊãõÂãü</div>
                        <div class="skill-desc">ÊèêÈ´òÈÇÄËØ∑ËΩ¨ÂåñÁéá5%</div>
                        <div class="skill-cost">Ê∂àËÄó: 50 EUR</div>
                    </div>
                    <div class="skill locked" onclick="unlockSkill('training')">
                        <div class="skill-name">‰∏ì‰∏öÂüπËÆ≠</div>
                        <div class="skill-desc">Âõ¢ÈòüÊàêÂëòË¥°ÁåÆÂ¢ûÂä†10%</div>
                        <div class="skill-cost">Ê∂àËÄó: 75 EUR</div>
                    </div>
                    <div class="skill locked" onclick="unlockSkill('leadership')">
                        <div class="skill-name">È¢ÜÂØºÂäõ</div>
                        <div class="skill-desc">Ëß£ÈîÅÈ´òÁ∫ßÂõ¢ÈòüÊàêÂëò‰ΩçÁΩÆ</div>
                        <div class="skill-cost">Ê∂àËÄó: 100 EUR</div>
                    </div>
                    <div class="skill locked" onclick="unlockSkill('networking')">
                        <div class="skill-name">Á§æ‰∫§ÁΩëÁªú</div>
                        <div class="skill-desc">ÊØèÊ¨°ÈÇÄËØ∑ÂèëÈÄÅ2‰∏™ÈìæÊé•</div>
                        <div class="skill-cost">Ê∂àËÄó: 80 EUR</div>
                    </div>
                </div>
            </div>
            
            <div id="equipment" class="tab-content">
                <div class="equipment">
                    <div class="equip-item" onclick="buyEquipment('automatic-inviter')">
                        <div class="equip-name">Ëá™Âä®ÈÇÄËØ∑Âô®</div>
                        <div class="equip-desc">ÊØèÂ∞èÊó∂Ëá™Âä®ÂèëÈÄÅ1‰∏™ÈÇÄËØ∑</div>
                        <div class="equip-cost">‰ª∑Ê†º: 150 EUR</div>
                        <div class="equip-owned" id="automatic-inviter-owned">Â∑≤Êã•Êúâ: 0</div>
                    </div>
                    <div class="equip-item" onclick="buyEquipment('training-manual')">
                        <div class="equip-name">ÂüπËÆ≠ÊâãÂÜå</div>
                        <div class="equip-desc">ÊèêÈ´òÂüπËÆ≠ÊïàÊûú20%</div>
                        <div class="equip-cost">‰ª∑Ê†º: 120 EUR</div>
                        <div class="equip-owned" id="training-manual-owned">Â∑≤Êã•Êúâ: 0</div>
                    </div>
                    <div class="equip-item" onclick="buyEquipment('motivational-poster')">
                        <div class="equip-name">ÊøÄÂä±Êµ∑Êä•</div>
                        <div class="equip-desc">Âõ¢ÈòüÊøÄÂä±ÊïàÊûúÊèêÂçá30%</div>
                        <div class="equip-cost">‰ª∑Ê†º: 100 EUR</div>
                        <div class="equip-owned" id="motivational-poster-owned">Â∑≤Êã•Êúâ: 0</div>
                    </div>
                    <div class="equip-item" onclick="buyEquipment('premium-link')">
                        <div class="equip-name">È´òÁ∫ßÈìæÊé•</div>
                        <div class="equip-desc">ÈÇÄËØ∑ËΩ¨ÂåñÁéáÊèêÈ´ò15%</div>
                        <div class="equip-cost">‰ª∑Ê†º: 200 EUR</div>
                        <div class="equip-owned" id="premium-link-owned">Â∑≤Êã•Êúâ: 0</div>
                    </div>
                </div>
            </div>
            
            <div id="team" class="tab-content">
                <div id="team-members-list">
                    <div class="team-member">
                        <div class="member-avatar">üëë</div>
                        <div class="member-info">
                            <div class="member-name">‰Ω† (È¢ÜÂØºËÄÖ)</div>
                            <div class="member-level">Á≠âÁ∫ß 1</div>
                        </div>
                        <div class="member-contribution">+2 EUR/ÈÇÄËØ∑</div>
                    </div>
                </div>
            </div>
            
            <div id="achievements" class="tab-content">
                <p>ÊàêÂ∞±Á≥ªÁªüÂ∞ÜÂú®Êú™Êù•Êõ¥Êñ∞‰∏≠Êé®Âá∫...</p>
            </div>
        </div>
    </div>

    <script>
        // Ê∏∏ÊàèÁä∂ÊÄÅ
        const gameState = {
            player: {
                name: "È¢ÜÂØºËÄÖ",
                class: "Âõ¢ÈòüÈ¢ÜË¢ñ",
                level: 1,
                exp: 0,
                nextLevelExp: 100,
                skills: []
            },
            team: {
                count: 1,
                members: [
                    {
                        id: 1,
                        name: "‰Ω†",
                        role: "È¢ÜÂØºËÄÖ",
                        level: 1,
                        contribution: 2,
                        trained: false
                    }
                ],
                maxMembers: 5,
                motivation: 1.0
            },
            economy: {
                bonusEarned: 0,
                invitesSent: 0,
                conversionRate: 0.2,
                baseConversion: 0.2
            },
            skills: {
                recruiting: { unlocked: false, effect: 0.05, cost: 50 },
                training: { unlocked: false, effect: 0.1, cost: 75 },
                leadership: { unlocked: false, effect: 0, cost: 100 },
                networking: { unlocked: false, effect: 0, cost: 80 }
            },
            equipment: {
                'automatic-inviter': { owned: 0, price: 150, effect: 1 },
                'training-manual': { owned: 0, price: 120, effect: 0.2 },
                'motivational-poster': { owned: 0, price: 100, effect: 0.3 },
                'premium-link': { owned: 0, price: 200, effect: 0.15 }
            },
            achievements: [],
            lastInviteTime: 0
        };

        // DOMÂÖÉÁ¥†
        const playerNameEl = document.getElementById('player-name');
        const playerClassEl = document.getElementById('player-class');
        const playerLevelEl = document.getElementById('player-level');
        const playerExpEl = document.getElementById('player-exp');
        const playerNextLevelEl = document.getElementById('player-next-level');
        const playerExpBarEl = document.getElementById('player-exp-bar');
        
        const teamCountEl = document.getElementById('team-count');
        const bonusEarnedEl = document.getElementById('bonus-earned');
        const invitesSentEl = document.getElementById('invites-sent');
        const conversionRateEl = document.getElementById('conversion-rate');
        const gameLogEl = document.getElementById('game-log');
        const inviteLinkEl = document.getElementById('invite-link');
        const teamMembersListEl = document.getElementById('team-members-list');

        // ÁîüÊàêÈöèÊú∫Áî®Êà∑ID
        function generateUserId() {
            return 'user' + Math.floor(Math.random() * 1000000);
        }

        // Êõ¥Êñ∞ÈÇÄËØ∑ÈìæÊé•
        function updateInviteLink() {
            inviteLinkEl.textContent = `https://imgp4o.com/invite/${generateUserId()}`;
        }

        // Â§çÂà∂ÈÇÄËØ∑ÈìæÊé•
        function copyInviteLink() {
            navigator.clipboard.writeText(inviteLinkEl.textContent)
                .then(() => addLog("ÈÇÄËØ∑ÈìæÊé•Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÔºÅ"));
        }

        // ÂèëÈÄÅÈÇÄËØ∑
        function sendInvite() {
            const now = Date.now();
            if (now - gameState.lastInviteTime < 1000) {
                addLog("Êìç‰ΩúÂ§™Âø´‰∫ÜÔºåËØ∑Á®çÂêéÂÜçËØïÔºÅ");
                return;
            }
            gameState.lastInviteTime = now;
            
            // Âü∫Á°ÄÈÇÄËØ∑
            sendSingleInvite();
            
            // Ê£ÄÊü•ÊòØÂê¶ÊúâÁΩëÁªúÊäÄËÉΩÔºåÂèØ‰ª•ÂèëÈÄÅÈ¢ùÂ§ñÈÇÄËØ∑
            if (gameState.skills.networking.unlocked) {
                setTimeout(() => {
                    addLog("Á§æ‰∫§ÁΩëÁªúÊäÄËÉΩÊøÄÊ¥ªÔºöÂèëÈÄÅÈ¢ùÂ§ñÈÇÄËØ∑ÔºÅ");
                    sendSingleInvite();
                }, 500);
            }
        }

        function sendSingleInvite() {
            gameState.economy.invitesSent++;
            invitesSentEl.textContent = gameState.economy.invitesSent;
            addLog(`‰Ω†ÂèëÈÄÅ‰∫ÜÁ¨¨ ${gameState.economy.invitesSent} ‰∏™ÈÇÄËØ∑...`);
            
            // Ê®°ÊãüÈÇÄËØ∑ÁªìÊûúÔºàÊúâ‰∏ÄÂÆöÊ¶ÇÁéáÊàêÂäüÔºâ
            setTimeout(() => {
                if (Math.random() < gameState.economy.conversionRate) {
                    // ÈÇÄËØ∑ÊàêÂäü
                    const newMemberId = gameState.team.members.length + 1;
                    const newMember = {
                        id: newMemberId,
                        name: `ÊàêÂëò${newMemberId}`,
                        role: "ÂàùÁ∫ßÊàêÂëò",
                        level: 1,
                        contribution: 1,
                        trained: false
                    };
                    
                    gameState.team.members.push(newMember);
                    gameState.team.count = gameState.team.members.length;
                    const bonus = calculateBonus();
                    gameState.economy.bonusEarned += bonus;
                    
                    updateTeamStats();
                    addLog(`üéâ ÈÇÄËØ∑ÊàêÂäüÔºÅ${newMember.name}Âä†ÂÖ•‰Ω†ÁöÑÂõ¢Èòü„ÄÇËé∑Âæó <span class="bonus">${bonus} EUR</span> Â•ñÈáë„ÄÇ`);
                    addExp(10);
                    updateInviteLink();
                    
                    // Êõ¥Êñ∞Âõ¢ÈòüÊàêÂëòÂàóË°®
                    renderTeamMembers();
                } else {
                    addLog("ÈÇÄËØ∑Êú™ÊàêÂäüÔºåÂØπÊñπÊ≤°ÊúâÊ≥®ÂÜå„ÄÇ");
                }
            }, 1000);
        }

        // ËÆ°ÁÆóÂ•ñÈáë
        function calculateBonus() {
            let total = 0;
            gameState.team.members.forEach(member => {
                let contribution = member.contribution;
                if (member.trained) {
                    contribution *= 1.2; // ÂüπËÆ≠Âü∫Á°ÄÂä†Êàê20%
                    if (gameState.skills.training.unlocked) {
                        contribution *= (1 + gameState.skills.training.effect);
                    }
                    if (gameState.equipment['training-manual'].owned > 0) {
                        contribution *= (1 + gameState.equipment['training-manual'].effect);
                    }
                }
                total += contribution;
            });
            
            // Âõ¢ÈòüÊøÄÂä±ÊïàÊûú
            total *= gameState.team.motivation;
            
            return Math.round(total * 100) / 100;
        }

        // ÂüπËÆ≠ÊàêÂëò
        function trainMember() {
            if (gameState.team.count <= 1) {
                addLog("‰Ω†ËøòÊ≤°ÊúâÂõ¢ÈòüÊàêÂëòÂèØ‰ª•ÂüπËÆ≠ÔºÅ");
                return;
            }
            
            // ÊâæÂá∫Êú™ÂüπËÆ≠ÁöÑÊàêÂëò
            const untrainedMembers = gameState.team.members.filter(m => !m.trained && m.role !== "È¢ÜÂØºËÄÖ");
            if (untrainedMembers.length === 0) {
                addLog("ÊâÄÊúâÊàêÂëòÈÉΩÂ∑≤Êé•ÂèóËøáÂüπËÆ≠ÔºÅ");
                return;
            }
            
            // ÈöèÊú∫ÈÄâÊã©‰∏Ä‰∏™ÊàêÂëòËøõË°åÂüπËÆ≠
            const randomIndex = Math.floor(Math.random() * untrainedMembers.length);
            const member = untrainedMembers[randomIndex];
            member.trained = true;
            member.contribution *= 1.2; // Âü∫Á°ÄÂüπËÆ≠Â¢ûÂä†20%
            
            if (gameState.skills.training.unlocked) {
                member.contribution *= (1 + gameState.skills.training.effect);
            }
            
            if (gameState.equipment['training-manual'].owned > 0) {
                member.contribution *= (1 + gameState.equipment['training-manual'].effect);
            }
            
            member.contribution = Math.round(member.contribution * 100) / 100;
            member.role = "ÂèóËÆ≠ÊàêÂëò";
            
            addLog(`üìö ${member.name} ÂÆåÊàê‰∫ÜÂüπËÆ≠ÔºÅÁé∞Âú®Ë¥°ÁåÆÂÄº‰∏∫ ${member.contribution} EUR/ÈÇÄËØ∑„ÄÇ`);
            renderTeamMembers();
        }

        // ÊøÄÂä±Âõ¢Èòü
        function motivateTeam() {
            const motivationBoost = 0.2; // Âü∫Á°ÄÊøÄÂä±20%
            let totalBoost = motivationBoost;
            
            if (gameState.equipment['motivational-poster'].owned > 0) {
                totalBoost += gameState.equipment['motivational-poster'].effect;
            }
            
            gameState.team.motivation = 1 + totalBoost;
            addLog(`üí™ Âõ¢ÈòüÊøÄÂä±ÊàêÂäüÔºÅ‰∏ãÊ¨°ÈÇÄËØ∑Â•ñÈáëÊèêÈ´ò ${Math.round(totalBoost * 100)}%„ÄÇ`);
            
            // ÊøÄÂä±ÊïàÊûúÊåÅÁª≠3Ê¨°ÈÇÄËØ∑
            let count = 0;
            const originalMotivation = gameState.team.motivation;
            const motivationInterval = setInterval(() => {
                if (count >= 3 || gameState.team.motivation !== originalMotivation) {
                    clearInterval(motivationInterval);
                    if (gameState.team.motivation === originalMotivation) {
                        gameState.team.motivation = 1.0;
                        addLog("Âõ¢ÈòüÊøÄÂä±ÊïàÊûúÂ∑≤ÁªìÊùü„ÄÇ");
                    }
                }
                count++;
            }, 3000);
        }

        // Ëß£ÈîÅÊäÄËÉΩ
        function unlockSkill(skillName) {
            const skill = gameState.skills[skillName];
            
            if (skill.unlocked) {
                addLog("Ëøô‰∏™ÊäÄËÉΩÂ∑≤ÁªèËß£ÈîÅ‰∫ÜÔºÅ");
                return;
            }
            
            if (gameState.economy.bonusEarned < skill.cost) {
                addLog(`üí∞ ‰ΩôÈ¢ù‰∏çË∂≥ÔºåÈúÄË¶Å${skill.cost} EURËß£ÈîÅÊ≠§ÊäÄËÉΩ„ÄÇ`);
                return;
            }
            
            gameState.economy.bonusEarned -= skill.cost;
            skill.unlocked = true;
            gameState.player.skills.push(skillName);
            
            // Â∫îÁî®ÊäÄËÉΩÊïàÊûú
            switch(skillName) {
                case 'recruiting':
                    gameState.economy.conversionRate += skill.effect;
                    conversionRateEl.textContent = `${Math.round(gameState.economy.conversionRate * 100)}%`;
                    break;
                case 'leadership':
                    gameState.team.maxMembers = 10;
                    addLog("Âõ¢Èòü‰∏äÈôêÂ¢ûÂä†Âà∞10‰∫∫ÔºÅ");
                    break;
            }
            
            updateTeamStats();
            addLog(`‚úÖ ÊàêÂäüËß£ÈîÅÊäÄËÉΩ: ${getSkillName(skillName)}ÔºÅ`);
            renderSkills();
            addExp(15);
        }

        // Ë¥≠‰π∞Ë£ÖÂ§á
        function buyEquipment(equipName) {
            const equip = gameState.equipment[equipName];
            
            if (gameState.economy.bonusEarned < equip.price) {
                addLog(`üí∞ ‰ΩôÈ¢ù‰∏çË∂≥ÔºåÈúÄË¶Å${equip.price} EURË¥≠‰π∞Ê≠§Ë£ÖÂ§á„ÄÇ`);
                return;
            }
            
            gameState.economy.bonusEarned -= equip.price;
            equip.owned++;
            
            // Â∫îÁî®Ë£ÖÂ§áÊïàÊûú
            switch(equipName) {
                case 'premium-link':
                    gameState.economy.conversionRate = gameState.economy.baseConversion + equip.effect;
                    conversionRateEl.textContent = `${Math.round(gameState.economy.conversionRate * 100)}%`;
                    break;
            }
            
            updateTeamStats();
            addLog(`üõí Ë¥≠‰π∞‰∫Ü ${getEquipName(equipName)}ÔºÅ`);
            renderEquipment();
            addExp(10);
        }

        // Ê∑ªÂä†ÁªèÈ™åÂÄº
        function addExp(amount) {
            gameState.player.exp += amount;
            if (gameState.player.exp >= gameState.player.nextLevelExp) {
                levelUp();
            }
            
            playerExpEl.textContent = gameState.player.exp;
            const percentage = (gameState.player.exp / gameState.player.nextLevelExp) * 100;
            playerExpBarEl.style.width = `${percentage}%`;
        }

        // ÂçáÁ∫ß
        function levelUp() {
            gameState.player.level++;
            gameState.player.exp -= gameState.player.nextLevelExp;
            gameState.player.nextLevelExp = Math.floor(gameState.player.nextLevelExp * 1.5);
            
            playerLevelEl.textContent = gameState.player.level;
            playerNextLevelEl.textContent = gameState.player.nextLevelExp;
            
            addLog(`üéä ÊÅ≠ÂñúÂçáÁ∫ßÔºÅ‰Ω†Áé∞Âú®ÊòØ ${gameState.player.class} Á≠âÁ∫ß ${gameState.player.level}„ÄÇ`);
            
            // ÂçáÁ∫ßÂ•ñÂä±
            if (gameState.player.level % 2 === 0) {
                gameState.economy.baseConversion += 0.02;
                gameState.economy.conversionRate = gameState.economy.baseConversion;
                if (gameState.equipment['premium-link'].owned > 0) {
                    gameState.economy.conversionRate += gameState.equipment['premium-link'].effect;
                }
                conversionRateEl.textContent = `${Math.round(gameState.economy.conversionRate * 100)}%`;
                addLog("‰Ω†ÁöÑÂü∫Á°ÄÈÇÄËØ∑ËΩ¨ÂåñÁéáÊèêÈ´ò‰∫Ü2%ÔºÅ");
            }
        }

        // Êõ¥Êñ∞Âõ¢ÈòüÁªüËÆ°Êï∞ÊçÆ
        function updateTeamStats() {
            teamCountEl.textContent = gameState.team.count;
            bonusEarnedEl.textContent = gameState.economy.bonusEarned;
            conversionRateEl.textContent = `${Math.round(gameState.economy.conversionRate * 100)}%`;
        }

        // Ê∑ªÂä†Êó•ÂøóÊù°ÁõÆ
        function addLog(message) {
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            logEntry.innerHTML = message;
            gameLogEl.appendChild(logEntry);
            gameLogEl.scrollTop = gameLogEl.scrollHeight;
        }

        // Ê∏≤ÊüìÊäÄËÉΩÊ†ë
        function renderSkills() {
            document.querySelectorAll('.skill').forEach(el => {
                const skillName = el.onclick.toString().match(/'([^']+)'/)[1];
                const skill = gameState.skills[skillName];
                
                el.classList.remove('unlocked', 'locked');
                if (skill.unlocked) {
                    el.classList.add('unlocked');
                } else {
                    el.classList.add('locked');
                }
            });
        }

        // Ê∏≤ÊüìË£ÖÂ§á
        function renderEquipment() {
            for (const equipName in gameState.equipment) {
                const el = document.getElementById(`${equipName}-owned`);
                if (el) {
                    el.textContent = `Â∑≤Êã•Êúâ: ${gameState.equipment[equipName].owned}`;
                }
            }
        }

        // Ê∏≤ÊüìÂõ¢ÈòüÊàêÂëò
        function renderTeamMembers() {
            teamMembersListEl.innerHTML = '';
            
            gameState.team.members.forEach(member => {
                const memberEl = document.createElement('div');
                memberEl.className = 'team-member';
                
                let avatar = 'üë§';
                if (member.role === "È¢ÜÂØºËÄÖ") avatar = 'üëë';
                else if (member.trained) avatar = 'üéì';
                
                memberEl.innerHTML = `
                    <div class="member-avatar">${avatar}</div>
                    <div class="member-info">
                        <div class="member-name">${member.name} (${member.role})</div>
                        <div class="member-level">Á≠âÁ∫ß ${member.level}</div>
                    </div>
                    <div class="member-contribution">+${member.contribution} EUR/ÈÇÄËØ∑</div>
                `;
                
                teamMembersListEl.appendChild(memberEl);
            });
        }

        // Ëé∑ÂèñÊäÄËÉΩÂêçÁß∞
        function getSkillName(skillKey) {
            const skills = {
                'recruiting': 'È´òÊïàÊãõÂãü',
                'training': '‰∏ì‰∏öÂüπËÆ≠',
                'leadership': 'È¢ÜÂØºÂäõ',
                'networking': 'Á§æ‰∫§ÁΩëÁªú'
            };
            return skills[skillKey] || skillKey;
        }

        // Ëé∑ÂèñË£ÖÂ§áÂêçÁß∞
        function getEquipName(equipKey) {
            const equipment = {
                'automatic-inviter': 'Ëá™Âä®ÈÇÄËØ∑Âô®',
                'training-manual': 'ÂüπËÆ≠ÊâãÂÜå',
                'motivational-poster': 'ÊøÄÂä±Êµ∑Êä•',
                'premium-link': 'È´òÁ∫ßÈìæÊé•'
            };
            return equipment[equipKey] || equipKey;
        }

        // ÂàáÊç¢Ê†áÁ≠æÈ°µ
        function openTab(tabName) {
            // ÈöêËóèÊâÄÊúâÊ†áÁ≠æÂÜÖÂÆπ
            document.querySelectorAll('.tab-content').forEach(el => {
                el.classList.remove('active');
            });
            
            // ÂèñÊ∂àÊâÄÊúâÊ†áÁ≠æÁöÑÊ¥ªÂä®Áä∂ÊÄÅ
            document.querySelectorAll('.tab').forEach(el => {
                el.classList.remove('active');
            });
            
            // ÊòæÁ§∫ÈÄâÂÆöÁöÑÊ†áÁ≠æÂÜÖÂÆπ
            document.getElementById(tabName).classList.add('active');
            
            // ËÆæÁΩÆÈÄâÂÆöÊ†áÁ≠æ‰∏∫Ê¥ªÂä®Áä∂ÊÄÅ
            event.currentTarget.classList.add('active');
        }

        // Ëá™Âä®ÈÇÄËØ∑ÂäüËÉΩ
        function startAutoInviter() {
            if (gameState.equipment['automatic-inviter'].owned > 0) {
                setInterval(() => {
                    if (gameState.team.count < gameState.team.maxMembers) {
                        sendSingleInvite();
                    }
                }, 3600000); // ÊØèÂ∞èÊó∂‰∏ÄÊ¨°
            }
        }

        // ÂàùÂßãÂåñÊ∏∏Êàè
        function initGame() {
            updateInviteLink();
            updateTeamStats();
            renderSkills();
            renderEquipment();
            renderTeamMembers();
            startAutoInviter();
        }

        // ÂêØÂä®Ê∏∏Êàè
        initGame();
    </script>
</body>
</html>